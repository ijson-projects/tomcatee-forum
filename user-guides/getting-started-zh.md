# 🚀 TomcatEE 快速开始指南

欢迎使用 TomcatEE！本指南将帮助您在几分钟内快速上手 TomcatEE VSCode 扩展。

## 📋 前置要求

开始之前，请确保您已安装：

- **VSCode** 1.74.0 或更高版本
- **Apache Tomcat** 8.5+ 或 9.0+
- **Java** 8 或更高版本（推荐 JDK）
- **Maven** 或 **Gradle**（用于项目构建）

## 🔧 安装扩展

### 步骤 1：安装扩展

1. 打开 VSCode
2. 进入扩展视图（`Ctrl+Shift+X`）
3. 搜索 "TomcatEE"
4. 点击 ijson 发布的 TomcatEE 扩展的"安装"按钮

或者，从 [VSCode 市场](https://marketplace.visualstudio.com/items?itemName=ijson.tomcatee) 直接安装。

### 步骤 2：验证安装

安装完成后，您应该看到：
- 活动栏（左侧边栏）中的 TomcatEE 图标
- 命令面板（`Ctrl+Shift+P`）中的 "Tomcat EE" 命令

## 🏗️ 首次设置

### 步骤 1：配置全局设置

1. 打开命令面板（`Ctrl+Shift+P`）
2. 运行 "Tomcat EE: Open Settings"
3. 配置以下设置：

#### 默认路径
- **默认 Tomcat 路径**：指向您的 Tomcat 安装目录
  ```
  示例：/usr/local/tomcat 或 C:\apache-tomcat-9.0.100
  ```
- **默认 JRE 路径**：指向您的 Java 安装目录
  ```
  示例：/usr/lib/jvm/java-11-openjdk 或 C:\Program Files\Java\jdk-11.0.1
  ```

#### 端口配置
- **端口范围**：新实例的默认端口（通常 8080-8090）
- **自动端口检测**：启用自动端口冲突解决

### 步骤 2：创建您的第一个 Tomcat 实例

1. 点击活动栏中的 TomcatEE 图标
2. 点击 "+" 按钮或运行 "Tomcat EE: Create Instance"
3. 按照实例创建向导操作：

#### 基本信息
- **实例名称**：为您的实例起一个描述性名称（如 "MyWebApp"）
- **描述**：可选的实例描述

#### 路径配置
- **Tomcat 路径**：使用默认路径或浏览到特定的 Tomcat 安装
- **JRE 路径**：使用默认路径或浏览到特定的 Java 安装
- **工作目录**：选择实例文件的存储位置

#### 端口配置
- **HTTP 端口**：默认 8080（如被占用会自动调整）
- **HTTPS 端口**：默认 8443
- **AJP 端口**：默认 8009
- **JMX 端口**：默认 8050
- **关闭端口**：默认 8005

#### JVM 设置
- **最小堆内存**：256m（根据需要调整）
- **最大堆内存**：512m（根据需要调整）
- **额外 JVM 参数**：可选的 JVM 参数

4. 点击 "创建实例"

## 📦 部署您的第一个项目

### Maven 项目

1. **在 VSCode 中打开您的 Maven Web 项目**
2. **在资源管理器中右键点击项目文件夹**
3. **选择 "Deploy to Tomcat"**
4. **选择您的 Tomcat 实例**
5. **等待部署完成**

### Gradle 项目

1. **在 VSCode 中打开您的 Gradle Web 项目**
2. **在资源管理器中右键点击项目文件夹**
3. **选择 "Deploy to Tomcat"**
4. **选择您的 Tomcat 实例**
5. **等待部署完成**

### 手动部署

1. **构建您的项目**生成 WAR 文件
2. **右键点击您的 Tomcat 实例**
3. **选择 "Deploy WAR File"**
4. **浏览并选择您的 WAR 文件**
5. **选择部署上下文路径**

## 🚀 启动您的应用程序

### 普通模式

1. **在 TomcatEE 视图中选择您的 Tomcat 实例**
2. **点击 ▶️ 启动按钮**
3. **等待启动完成**（观察状态指示器）
4. **访问您的应用程序** `http://localhost:8080/your-app`

### 调试模式

1. **在您的 Java 代码中设置断点**（点击行号）
2. **选择您的 Tomcat 实例**
3. **点击 🐛 调试按钮**
4. **在提示时按 F5** 连接调试器
5. **访问您的应用程序**触发断点

## 🔥 启用热部署

热部署在文件更改时自动重新部署您的应用程序。

### 启用热部署

1. **右键点击您的 Tomcat 实例**
2. **选择 "Configure Instance"**
3. **转到 "Deploy Settings" 选项卡**
4. **启用 "Hot Deploy"**
5. **配置文件监控模式**：
   - **监控扩展名**：`java,jsp,html,css,js,xml,properties`
   - **排除目录**：`target,build,node_modules,.git`
   - **部署延迟**：1000ms（根据需要调整）

### 工作原理

1. **修改您的源文件**
2. **保存文件**（`Ctrl+S`）
3. **在输出面板中观察自动重建**
4. **在浏览器中立即看到您的更改**

## 🌐 浏览器集成

### 自动打开浏览器

1. **在实例配置中配置浏览器设置**
2. **选择浏览器类型**：
   - 系统默认
   - Chrome
   - Firefox
   - Edge
   - 自定义（指定路径）
3. **设置默认页面**（如 `/index.jsp`）
4. **启用启动时自动打开**

### 手动打开浏览器

- **右键点击实例** → "Open in Browser"
- **使用实例视图中的 🌐 浏览器按钮**
- **直接访问** `http://localhost:[端口]/[上下文]`

## 📊 监控您的应用程序

### 实例状态

实时监控您的实例状态：
- 🟢 **运行中** - 实例活跃并处理请求
- 🟡 **启动中** - 实例正在启动过程中
- 🔴 **已停止** - 实例未运行
- ⚠️ **错误** - 实例遇到错误

### 查看日志

1. **右键点击您的实例**
2. **选择 "View Logs"**
3. **选择日志类型**：
   - **Catalina 日志** - 主要的 Tomcat 日志
   - **应用程序日志** - 您的应用程序日志输出
   - **访问日志** - HTTP 请求日志

### 性能监控

- **内存使用** - 监控 JVM 堆使用情况
- **线程数** - 活跃线程监控
- **请求统计** - HTTP 请求指标（如果启用 JMX）

## 🔧 常见任务

### 重启实例
- **右键点击实例** → "Restart"
- **或使用 🔄 重启按钮**

### 停止实例
- **右键点击实例** → "Stop"
- **或使用 ⏹️ 停止按钮**

### 清理部署
- **右键点击实例** → "Clean Deploy"
- **删除旧部署**并重新部署

### 更新配置
- **右键点击实例** → "Configure Instance"
- **根据需要修改设置**
- **应用更改**（可能需要重启）

## 🆘 故障排除

### 常见问题

#### 端口已被使用
- **在实例配置中检查端口可用性**
- **使用 "Suggest Available Ports" 功能**
- **如需要手动更改端口**

#### 启动失败
- **检查 JRE 路径**是否正确
- **验证 Tomcat 安装**是否有效
- **查看启动日志**了解错误详情

#### 部署失败
- **确保项目构建成功**
- **检查 WAR 文件是否生成**
- **验证部署权限**

#### 热部署不工作
- **检查文件监控模式**
- **验证构建工具配置**
- **确保部署延迟适当**

### 获取帮助

如果遇到问题：

1. **查看 [故障排除指南](../troubleshooting/)**
2. **搜索 [现有讨论](../../discussions)**
3. **在 [社区论坛](../../discussions) 寻求帮助**
4. **在 [问题报告](../../discussions/categories/bug-reports) 中报告错误**

## 🎯 下一步

现在您已经设置好了 TomcatEE：

1. **探索 [高级配置](../configuration/)**
2. **学习 [多模块项目](../tutorials/multi-module-projects-zh.md)**
3. **掌握 [调试功能](../tutorials/debug-tutorial-zh.md)**
4. **使用 [热部署](../tutorials/hot-deployment-guide-zh.md) 优化**

## 🤝 加入社区

- 💬 **参与讨论** [TomcatEE 论坛](../../discussions)
- 🐛 **报告问题**帮助改进 TomcatEE
- 💡 **建议功能**为未来版本
- 📚 **与其他用户分享经验**

---

**使用 TomcatEE 愉快编码！🚀**

*需要更多帮助？访问我们的 [社区论坛](../../discussions) 或查看更多 [用户指南](../user-guides/)。*
